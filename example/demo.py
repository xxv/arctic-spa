#!/usr/bin/env python3

import hexdump

from arctic_spa import SpaProtocol

def demo():
    b = hexdump.dehex("""
ab ad 1d 3a c1 51 d0 37  00 62 0e d9 00 00 00 00
00 00 00 38 08 67 10 66  18 01 20 00 28 00 30 00
38 00 40 00 48 00 50 00  58 00 60 00 68 00 70 02
78 00 80 01 01 88 01 00  90 01 00 a0 01 f0 05 b0
01 00 b8 01 9c 18 c0 01  00 c8 01 00            
ab ad 1d 3a b6 6d b1 0f  00 62 0e da 00 00 00 01
00 0a 00 00                                     
ab ad 1d 3a 60 5c ca bd  00 62 0e db 00 00 00 00
00 00 00 38 08 67 10 66  18 01 20 00 28 00 30 00
38 00 40 00 48 00 50 00  58 00 60 00 68 00 70 02
78 00 80 01 01 88 01 00  90 01 00 a0 01 f0 05 b0
01 00 b8 01 9c 18 c0 01  00 c8 01 00            
ab ad 1d 3a 54 29 7a 8d  00 62 0e dc 00 00 00 00
00 00 00 38 08 67 10 66  18 01 20 00 28 00 30 00
38 00 40 00 48 00 50 00  58 00 60 00 68 00 70 02
78 00 80 01 01 88 01 00  90 01 00 a0 01 f0 05 b0
01 00 b8 01 9c 18 c0 01  00 c8 01 00            
ab ad 1d 3a f6 f7 fe 9d  00 62 0e dd 00 00 00 00
00 03 00 2a 08 01 10 01  18 01 20 00 28 00 30 00
38 00 40 01 48 01 50 01  58 00 60 01 68 00 70 01
78 00 80 01 01 88 01 01  90 01 32 a0 01 00      
ab ad 1d 3a ad 49 a2 09  00 62 0e de 00 00 00 00
00 06 00 6c 12 09 33 2e  35 31 2e 30 30 33 38 1a
04 32 2e 32 31 22 06 41  52 43 54 49 43 2a 02 4e
41 32 06 54 53 43 2d 31  34 3a 03 31 30 36 42 24
30 31 32 33 34 35 36 37  2d 30 30 30 30 2d 30 30
30 30 2d 30 30 30 30 2d  30 30 30 30 30 30 30 30
30 30 30 30 48 00 50 00  58 00 62 06 ff ff ff ff
ff ff 68 a6 80 cc 19 70  81 80 04 7a 00 82 01 00
ab ad 1d 3a 11 9b 8c 4a  00 62 0e df 00 00 00 00
00 30 00 65 0a 24 30 31  32 33 34 35 36 37 2d 30
30 30 30 2d 30 30 30 30  2d 30 30 30 30 2d 30 30
30 30 30 30 30 30 30 30  30 30 10 ac 05 18 90 06
20 04 28 08 30 e0 12 38  c8 65 40 01 48 00 50 00
58 04 60 00 68 00 70 f8  0a 78 a9 0d 80 01 ff ac
e2 04 88 01 ff ac e2 04  90 01 00 98 01 bc b7 3a
a0 01 03 a8 01 02 b0 01  4d                     
""")

    spa = SpaProtocol()
    packets = spa.decode(b)
    for packet in packets:
        print(packet)

demo()
